<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<body>

  <div ng-app="">
    <div *ngIf="showTable" id="tableSection" style="margin-bottom: 5px;" ng-show="showTable">
      <div style="margin-top: 15px;">
        <button class="btn btn-success float-right" (click)="showTable = false">Add</button>
      </div>
      <div class="table-responsive">
        <table class="table table-striped custom-table">
          <tr >
            <th>Id</th>
            <th>First Name</th>
            <th>Surname</th>
            <th>Phone Number</th>
          </tr>
  
          <tbody>
            <tr *ngFor="let phoneBook of phoneBookEntries">
              <td>{{phoneBook.phoneBookEntryId}}</td>
              <td><a>{{phoneBook.firstname}}</a></td>
              <td>{{phoneBook.surname}}</td>
              <td><a>{{phoneBook.phoneNumber}}</a></td>
              <td>
                <div style="margin: auto; display: flex; justify-content: center;">
                  <button class="btn btn-success" (click)="bindSelected(phoneBook)" style="margin-right: 5%">Edit</button>
                  <button class="btn btn-primary" (click)="RemovePhonebookEntry(phoneBook.phoneBookEntryId)">Remove</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <br />


    <div *ngIf="showTable == false" id="addSection">
      <label>First Name:  </label>
      <input [(ngModel)]="selectedPhoneBookEntry.firstname" type="text" name="firstname" required>
      <br>
      <br>

      <label>Surname: </label>
      <input [(ngModel)]="selectedPhoneBookEntry.surname" type="text" name="surname" required>
      <br>
      <br>

      <label>Phone Number:  </label>
      <input [(ngModel)]="selectedPhoneBookEntry.phoneNumber" type="text" name="phoneNumber" required minlength="10">
      <br>
      <br>

      <button class="btn btn-success" *ngIf="selectedPhoneBookEntry.phoneBookEntryId != 0" type="submit" (click)="UpdatePhonebookEntry()" name="addButton">Update</button>
      <button class="btn btn-success" *ngIf="selectedPhoneBookEntry.phoneBookEntryId == 0" type="submit" (click)="SaveNewPhonebookEntry()" name="addButton">Submit</button>

      <button class="btn btn-warning" type="submit" (click)="showTable = true" name="addButton">Back</button>
    </div>
    <br />

  </div>

</body>
</html>

