<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<body>

  <div ng-app="">
    <div *ngIf="showTable" id="tableSection" style="margin-bottom: 5px;" ng-show="showTable">
      <div class="row mb-4">
        <div class="col-6">
          <button class="btn btn-info float-left" [routerLink]="['/']">Info</button>
        </div>
        <div class="col-6">
          <button class="btn btn-success float-right" (click)="clearSelected()">Add</button>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-striped custom-table">
          <tr >
            <th>Id</th>
            <th>First Name</th>
            <th>Surname</th>
            <th>Phone Number</th>
          </tr>
  
          <tbody>
            <tr *ngFor="let phoneBook of phoneBookEntries">
              <td>{{phoneBook.phoneBookEntryId}}</td>
              <td><a>{{phoneBook.firstname}}</a></td>
              <td>{{phoneBook.surname}}</td>
              <td><a>{{phoneBook.phoneNumber}}</a></td>
              <td>
                <button class="btn btn-primary float-right" (click)="RemovePhonebookEntry(phoneBook.phoneBookEntryId)">Remove</button>
                <button class="btn btn-success float-right" (click)="bindSelected(phoneBook)" style="margin-right: 5%">Edit</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <br />


    <div *ngIf="showTable == false" id="addSection" class="" style="border: solid 2px white; border-radius: 50px; margin: auto; width: 600px;">
      <div id="headingSection" class="d-flex mt-2" style="justify-content: center; color: white">
        <div *ngIf="selectedPhoneBookEntry.phoneBookEntryId != 0">
          <h1>User Details Update</h1>
        </div>
        <div *ngIf="selectedPhoneBookEntry.phoneBookEntryId == 0">
          <h1>User Details Add</h1>
        </div>
      </div>

      <div class="row mt-4 ml-2">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
          <label class="mr-4" style="color: white; width: 150px;"><h3>First Name:  </h3></label>
          <input [(ngModel)]="selectedPhoneBookEntry.firstname" style="width: 60%;" class="mr-2" type="text" name="firstname" minlength="3" required #name="ngModel">
          <!--<div *ngIf="firstname.invalid && (selectedPhoneBookEntry.firstname.dirty || selectedPhoneBookEntry.firstname.touched)"
           class="alert">

        <div *ngIf="selectedPhoneBookEntry.firstname.errors?.['required']">
          Name is required.
        </div>
        <div *ngIf="selectedPhoneBookEntry.firstname.errors?.['minlength']">
          Name must be at least 3 characters long.
        </div>

      </div>-->


        </div>
      </div>

      <br>
      <br>
      <div class="row mt-4 ml-2">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
          <label class="mr-4" style="color: white; width: 150px;"><h3>Surname: </h3></label>
          <input [(ngModel)]="selectedPhoneBookEntry.surname" class="mr-2" style="width: 60%;" type="text" name="surname" required>

        </div>
      </div>
      <br>
      <br>

      <div class="row mt-4 ml-2">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
          <label class="mr-4" style="color: white; width: 150px;"><h3>Phone No:  </h3></label>
          <input [(ngModel)]="selectedPhoneBookEntry.phoneNumber" class="mr-2" style="width: 60%;" type="text" name="phoneNumber" required minlength="10">

        </div>
      </div>
      <br>
      <br>

      <div class="row mb-4">
        <div id="updateSection" *ngIf="selectedPhoneBookEntry.phoneBookEntryId != 0"  class="m-auto">
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 float-right text-right">
            <button class="btn btn-success" type="submit" (click)="UpdatePhonebookEntry()" name="addButton">Update</button>
          </div>

          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 float-left text-left">
            <button class="btn btn-warning" type="submit" (click)="showTable = true" name="addButton">Back</button>
          </div>
        </div>

        <div id="addSection" *ngIf="selectedPhoneBookEntry.phoneBookEntryId == 0" class="m-auto">
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 float-right text-right">
            <button class="btn btn-success" type="submit" (click)="SaveNewPhonebookEntry()" name="addButton">Submit</button>
          </div>

          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 float-left text-left">
            <button class="btn btn-warning" type="submit" (click)="showTable = true" name="addButton">Back</button>
          </div>
        </div>


        <!--<div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 float-right text-right">
          <button class="btn btn-success" *ngIf="selectedPhoneBookEntry.phoneBookEntryId != 0" type="submit" (click)="UpdatePhonebookEntry()" name="addButton">Update</button>
        </div>

        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 float-left text-left">
          <button class="btn btn-success" *ngIf="selectedPhoneBookEntry.phoneBookEntryId == 0" type="submit" (click)="SaveNewPhonebookEntry()" name="addButton">Submit</button>
        </div>

        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-4 float-left text-right">
          <button class="btn btn-warning" type="submit" (click)="showTable = true" name="addButton">Back</button>
        </div>-->
      </div>

        </div>
        <br />

      </div>

</body>
</html>

